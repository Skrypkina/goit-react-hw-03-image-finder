{"version":3,"sources":["components/GalleryItem/GalleryItem.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.js","components/GalleryItem/GalleryItem.js","components/Gallery/Gallery.js","components/Modal/Modal.js","services/api.js","components/App.js","index.js","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css"],"names":["module","exports","galleryItem","galleryItemImg","stats","statsItem","fullscreenButton","backdrop","SearchForm","state","query","page","handleChange","e","_this","setState","target","value","handleSubmit","preventDefault","props","onSubmit","handleBtnClick","handleQueryChange","onChange","_this$state","this","items","react_default","a","createElement","className","css","searchForm","type","autoComplete","placeholder","onPointerEnter","input","children","length","onClick","button","Component","defaultProps","GalleryItem","_ref","_ref$webformatURL","webformatURL","_ref$likes","likes","_ref$views","views","_ref$comments","comments","_ref$downloads","downloads","_ref$tags","tags","onOpen","src","alt","Gallery","onOpenModal","gallery","map","item","key","id","components_GalleryItem_GalleryItem","Object","assign","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","ref","fetchImages","axios","get","concat","app","display","gridGap","alignContent","gridTemplateColumns","largeImg","height","objectFit","App","images","isModalOpen","selectedImageId","api","then","data","toConsumableArray","hits","clearImages","openModal","closeModal","imageToFind","find","image","style","SearchForm_SearchForm","components_Gallery_Gallery","Modal_Modal","largeImageURL","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.520bde70.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"GalleryItem_galleryItem__lcPLo\",\"galleryItemImg\":\"GalleryItem_galleryItemImg__2fYYX\",\"stats\":\"GalleryItem_stats__3ZRHu\",\"statsItem\":\"GalleryItem_statsItem__10-fO\",\"fullscreenButton\":\"GalleryItem_fullscreenButton__2_ONR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3FAPo\"};","import React, { Component } from 'react';\nimport css from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    query: '',\n    page: 1,\n  };\n\n  static defaultProps = {\n    items: [],\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.setState({ page: 1 });\n    /* eslint-disable-next-line */\n    this.props.onSubmit(this.state.query, this.state.page);\n  };\n\n  handleBtnClick = () => {\n    /* eslint-disable-next-line */\n    this.props.onSubmit(this.state.query, this.state.page + 1);\n    this.setState(state => ({ page: this.state.page + 1 }));\n  };\n\n  handleQueryChange = () => {\n    this.setState({ query: '', page: 1 });\n    /* eslint-disable-next-line */\n    this.props.onChange();\n  };\n\n  render() {\n    const { query, page } = this.state;\n    const { items } = this.props;\n\n    return (\n      <div className={css.searchForm}>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images...\"\n            onChange={this.handleChange}\n            value={query}\n            onPointerEnter={this.handleQueryChange}\n            className={css.input}\n          />\n          {this.props.children}\n        </form>\n\n        {items.length > 0 && (\n          <button\n            type=\"button\"\n            value={page}\n            onClick={this.handleBtnClick}\n            className={css.button}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './GalleryItem.module.css';\n\nconst GalleryItem = ({\n  webformatURL = '',\n  likes = 0,\n  views = 0,\n  comments = 0,\n  downloads = 0,\n  tags = '',\n  onOpen,\n}) => (\n  <div className={css.galleryItem}>\n    <img src={webformatURL} alt={tags} className={css.galleryItemImg} />\n\n    <div className={css.stats}>\n      <p className={css.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={css.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={css.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={css.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n      <button type=\"button\" className={css.fullscreenButton} onClick={onOpen}>\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  </div>\n);\n\nGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  likes: PropTypes.number,\n  views: PropTypes.number,\n  comments: PropTypes.number,\n  downloads: PropTypes.number,\n  tags: PropTypes.string,\n  onOpen: PropTypes.func,\n  largeImageURL: PropTypes.string,\n};\nexport default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from '../GalleryItem/GalleryItem';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ items, onOpenModal }) => (\n  <ul className={css.gallery}>\n    {items.map(item => (\n      <li key={item.id} className={css.galleryItem}>\n        <GalleryItem {...item} onOpen={() => onOpenModal(item.id)} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  items: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport css from './Modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        className={css.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div>{children}</div>\n      </div>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\n\n/* eslint-disable-next-line */\nexport const fetchImages = (query, page) =>\n  axios.get(\n    `${BASE_URL}${query}&page=${page}&per_page=12&key=12647850-3be04ccdb337b060210fd27c5`,\n  );\n","import React, { Component } from 'react';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\nimport * as api from '../services/api';\n\nconst app = {\n  display: 'grid',\n  gridGap: '24px',\n  alignContent: 'center',\n  gridTemplateColumns: 'auto auto auto',\n};\n\nconst largeImg = {\n  height: '600px',\n  objectFit: 'cover',\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isModalOpen: false,\n    selectedImageId: null,\n  };\n\n  fetchImages = (query, page) => {\n    api\n      .fetchImages(query, page)\n\n      .then(data =>\n        this.setState(state => ({\n          images: [...state.images, ...data.data.hits],\n        })),\n      );\n  };\n\n  clearImages = () => {\n    this.setState({ images: [] });\n  };\n\n  openModal = id => {\n    this.setState({ isModalOpen: true, selectedImageId: id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const { images, isModalOpen, selectedImageId } = this.state;\n    const imageToFind = images.find(image => image.id === selectedImageId);\n\n    return (\n      <div style={app}>\n        <SearchForm\n          onSubmit={this.fetchImages}\n          onChange={this.clearImages}\n          items={images}\n        >\n          {images.length > 0 && (\n            <Gallery items={images} onOpenModal={this.openModal} />\n          )}\n        </SearchForm>\n        {isModalOpen && (\n          <Modal onClose={this.closeModal}>\n            <img src={imageToFind.largeImageURL} alt=\"some\" style={largeImg} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3tlus\",\"input\":\"SearchForm_input__zWLnu\",\"button\":\"SearchForm_button__1AUaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3RNHd\"};"],"sourceRoot":""}